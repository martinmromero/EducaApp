# ============================================================================
# üìÑ REQUIREMENTS: Document Processing Module (Stack Completo)
# ============================================================================
# Fecha: 29 octubre 2025
# Prop√≥sito: Librer√≠as para interpretar documentos (PDF, DOCX, PPTX, TXT)
#            con foco en extracci√≥n limpia de estructura y optimizaci√≥n de tokens
# ============================================================================

# ----------------------------------------------------------------------------
# üî¥ CORE: Procesamiento de Documentos
# ----------------------------------------------------------------------------

# PDF - Extracci√≥n avanzada con detecci√≥n de estructura
PyMuPDF==1.25.1
# Raz√≥n: REEMPLAZA a PyPDF2 (m√°s r√°pido, extrae TOC, mejor con layouts complejos)
# Uso: Extracci√≥n de texto, TOC, metadatos, detecci√≥n de headers/footers

# PDF - An√°lisis estructural complementario
pdfplumber==0.11.0
# Raz√≥n: Complementa PyMuPDF para tablas, detecci√≥n de layouts multi-columna
# Uso: Extracci√≥n de tablas, detecci√≥n precisa de posiciones de texto

# DOCX - Archivos Microsoft Word
python-docx==0.8.11
# Raz√≥n: Ya instalada, funcional y mantenida
# Uso: Extracci√≥n de p√°rrafos, estilos (t√≠tulos), headers/footers

# PPTX - Archivos PowerPoint
python-pptx==0.6.23
# Raz√≥n: Ya instalada, funcional
# Uso: Extracci√≥n de texto de slides, notas, t√≠tulos

# ----------------------------------------------------------------------------
# üßÆ OPTIMIZACI√ìN DE TOKENS (CR√çTICO para IA)
# ----------------------------------------------------------------------------

# Conteo exacto de tokens OpenAI/Claude
tiktoken==0.9.0
# Raz√≥n: ESENCIAL - mide tokens antes de enviar a IA para evitar sobrecostos
# Uso: Conteo preciso para GPT-3.5/4, fragmentaci√≥n inteligente de texto

# ----------------------------------------------------------------------------
# üßπ LIMPIEZA Y NORMALIZACI√ìN
# ----------------------------------------------------------------------------

# Conversi√≥n HTML ‚Üí Markdown (reduce tokens)
markdownify==0.13.1
# Raz√≥n: Convierte HTML extra√≠do a Markdown limpio (menos tokens que HTML)
# Uso: Limpieza de formato rico, conversi√≥n de PDFs con estilos complejos

# Expresiones regulares avanzadas (ya instalada en base)
# regex==2025.10.22
# Raz√≥n: Detecci√≥n de patrones (cap√≠tulos, secciones, referencias)
# Nota: Ya viene con entorno base, no reinstalar

# ----------------------------------------------------------------------------
# üìê PROCESAMIENTO DE TEXTO (Opcional - usar con moderaci√≥n)
# ----------------------------------------------------------------------------

# NLP b√°sico - tokenizaci√≥n, stopwords
# nltk==3.9.2
# Raz√≥n: Ya instalada. √ötil para divisi√≥n en oraciones, limpieza de stopwords
# Advertencia: Pesada (>50MB de datos). Usar solo si necesit√°s an√°lisis sem√°ntico

# NLP avanzado - detecci√≥n de entidades, estructura sint√°ctica
# spacy==3.8.7
# Raz√≥n: Ya instalada. √ötil para detectar t√≠tulos por an√°lisis sint√°ctico
# Advertencia: MUY pesada (>100MB con modelos). Usar solo si regex no alcanza

# ----------------------------------------------------------------------------
# üõ†Ô∏è UTILIDADES
# ----------------------------------------------------------------------------

# Parser XML (dependencia de python-docx, ya instalada)
lxml==6.0.2
# Raz√≥n: Requerida por python-docx, √∫til para parsear XML/HTML

# Procesamiento de im√°genes (ya instalada en base)
# Pillow==12.0.0
# Raz√≥n: Extracci√≥n de im√°genes embebidas en documentos (opcional)

# HTTP requests (ya instalada)
# requests==2.32.5
# Raz√≥n: Descarga de documentos remotos (si aplica)

# ----------------------------------------------------------------------------
# üìä DATOS Y MANIPULACI√ìN
# ----------------------------------------------------------------------------

# Arrays num√©ricos (ya instalada, requerida por spacy/nltk)
# numpy==2.3.4
# Raz√≥n: Dependencia de spacy. √ötil si hac√©s procesamiento de embeddings

# ----------------------------------------------------------------------------
# üé® DEBUG Y PRESENTACI√ìN (Opcional)
# ----------------------------------------------------------------------------

# Output de consola con formato
# rich==14.2.0
# Raz√≥n: Ya instalada. √ötil para debug/logs bonitos durante desarrollo

# ============================================================================
# üì¶ INSTALACI√ìN COMPLETA
# ============================================================================
# Comando PowerShell (desde ra√≠z del proyecto):
#   .\.venv\Scripts\Activate.ps1
#   pip install -r requirements_document_processing.txt
#
# Verificaci√≥n:
#   python -c "import fitz, pdfplumber, tiktoken, docx, pptx; print('‚úÖ OK')"
# ============================================================================

# ============================================================================
# üîÑ ALTERNATIVA: Stack Minimalista (solo lo cr√≠tico)
# ============================================================================
# Si quer√©s instalar SOLO lo esencial, coment√° todo excepto:
#   PyMuPDF==1.25.1
#   tiktoken==0.9.0
#   python-docx==0.8.11
#   python-pptx==0.6.23
#   lxml==6.0.2
# ============================================================================
